import 最终大boss
import numpy as np
目标周期=251.64
def 寻找目标周期厚度(目标周期, 厚度范围=(1, 20), 精度=0.01, 最大迭代次数=1000):
    """
    使用二分法寻找使周期为目标值的厚度
    
    参数:
    目标周期: 目标周期值
    厚度范围: 搜索厚度的范围 (最小值, 最大值)
    精度: 计算精度
    最大迭代次数: 最大迭代次数
    
    返回:
    找到的厚度值
    """
    左边界, 右边界 = 厚度范围
    
    for i in range(最大迭代次数):
        中点 = (左边界 + 右边界) / 2
        当前周期 = 最终大boss.计算厚度周期关系(中点)
        
        if 当前周期 is None:
            print(f"在厚度 {中点} 处无法计算周期")
            return None
        
        周期差 = 当前周期 - 目标周期
        
        #print(f"迭代 {i+1}: 厚度 = {中点:.4f}, 周期 = {当前周期:.4f}, 差值 = {周期差:.4f}")
        
        if abs(周期差) < 精度:
            print(f"找到满足条件的厚度: {中点:.4f}")
            return 中点
        
        if 周期差 > 0:
            左边界 = 中点
        else:
            右边界 = 中点
    
    print("未在指定迭代次数内找到满足精度要求的解")
    return (左边界 + 右边界) / 2

# 寻找使周期为250.1446的厚度
目标厚度 = 寻找目标周期厚度(目标周期)
print(f"\n使周期为{目标周期}的厚度为: {目标厚度:.4f} 微米")
